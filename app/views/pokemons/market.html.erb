<div id="top_rated" style="height: 250px;"></div>

<div id="top-rated" data-top-rated="<%= @top_rated.to_json %>"></div>

<ol>
	<% @top_rated.each do |pokemon| %>
	<li><%= pokemon %></li>
	<% end %>
</ol>

<script type="text/javascript">
	var data = $("#top-rated").data('top-rated');

	Morris.Bar({
	  element: 'top_rated',
	  data: data,
	  xkey: 'pokemon',
	  ykeys: ['rating'],
	  labels: ['Rating']
	});
</script>

<% if false %>
<% @top_rate.each do |k, v| %>
	<% Vote.where('pokemon_id = k').sum('rating') / v %>
	<%= pokemon_id = k %>
	<%= nb_vote = v %>
<% end %>
<% end %>